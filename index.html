<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>prompt vault</title>
<meta name="description" content="A curated library of 17 production-ready AI prompts for research, productivity, communication, and strategic thinking.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet">
<style>
/* ─── Reset & Base ─────────────────────────────────────────────── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:rgb(12,14,24);--bg2:rgb(18,21,36);--bg3:rgb(24,28,48);
  --glass:rgba(30,35,60,.45);--glass-border:rgba(100,120,200,.15);
  --text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;
  --accent:#6366f1;--accent2:#818cf8;--accent-glow:rgba(99,102,241,.25);
  --analysis:#3b82f6;--productivity:#22c55e;--meta:#a855f7;--comm:#f97316;
  --radius:16px;--radius-sm:10px;
  --font:'DM Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  --transition:all .3s cubic-bezier(.4,0,.2,1);
}
[data-theme="light"]{
  --bg:#f1f5f9;--bg2:#ffffff;--bg3:#e2e8f0;
  --glass:rgba(255,255,255,.7);--glass-border:rgba(100,120,200,.2);
  --text:#1e293b;--text2:#475569;--text3:#64748b;
  --accent-glow:rgba(99,102,241,.12);
}
html{scroll-behavior:smooth;font-size:16px}
body{font-family:var(--font);background:var(--bg);color:var(--text);
  line-height:1.6;overflow-x:hidden;transition:background .5s,color .5s;
  text-transform:lowercase}
a{color:var(--accent2);text-decoration:none}
a:hover{text-decoration:underline}
::selection{background:var(--accent);color:#fff}

/* ─── Loading Screen ───────────────────────────────────────────── */
#loader{position:fixed;inset:0;z-index:9999;background:var(--bg);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  transition:opacity .6s,visibility .6s}
#loader.hidden{opacity:0;visibility:hidden;pointer-events:none}
.vault-door{width:120px;height:140px;position:relative;margin-bottom:24px}
.vault-door .door{position:absolute;width:50%;height:100%;
  background:linear-gradient(135deg,#334155,#1e293b);
  border:2px solid rgba(99,102,241,.3);transition:transform 1s cubic-bezier(.4,0,.2,1)}
.vault-door .door.left{left:0;border-radius:12px 0 0 12px;transform-origin:left}
.vault-door .door.right{right:0;border-radius:0 12px 12px 0;transform-origin:right}
.vault-door.open .left{transform:perspective(600px) rotateY(-105deg)}
.vault-door.open .right{transform:perspective(600px) rotateY(105deg)}
.vault-door .handle{position:absolute;width:12px;height:12px;border-radius:50%;
  background:var(--accent);top:50%;transform:translateY(-50%)}
.vault-door .door.left .handle{right:8px}
.vault-door .door.right .handle{left:8px}
.vault-door .glow{position:absolute;inset:-20px;border-radius:20px;
  background:radial-gradient(circle,rgba(99,102,241,.15),transparent 70%);
  opacity:0;transition:opacity .8s}.vault-door.open .glow{opacity:1}
#loader p{color:var(--text2);font-size:.9rem;letter-spacing:2px}

/* ─── Hero ─────────────────────────────────────────────────────── */
.hero{position:relative;min-height:45vh;display:flex;flex-direction:column;
  align-items:center;justify-content:center;text-align:center;padding:3rem 2rem 2rem;
  overflow:hidden}
.hero::before{content:'';position:absolute;inset:0;z-index:0;
  background:radial-gradient(ellipse 50% 60% at 50% 40%,rgba(167,139,250,.05),transparent 70%)}
.hero-orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:.35;
  animation:orbFloat 12s ease-in-out infinite alternate;z-index:0}
.hero-orb:nth-child(1){width:300px;height:300px;background:rgba(167,139,250,.12);
  top:10%;left:20%;animation-delay:0s}
.hero-orb:nth-child(2){width:200px;height:200px;background:rgba(244,114,182,.08);
  top:40%;right:15%;animation-delay:-4s}
.hero-orb:nth-child(3){width:250px;height:250px;background:rgba(129,140,248,.06);
  bottom:5%;left:40%;animation-delay:-8s}
@keyframes orbFloat{
  0%{transform:translate(0,0) scale(1)}
  50%{transform:translate(20px,-15px) scale(1.08)}
  100%{transform:translate(-10px,10px) scale(.95)}
}
.hero-content{position:relative;z-index:1;max-width:700px}
.hero h1{font-size:clamp(2.2rem,7vw,3.8rem);font-weight:300;
  letter-spacing:.06em;color:#a78bfa;line-height:1.1;margin-bottom:.75rem;
  cursor:default;white-space:nowrap}
.tagline{font-size:clamp(.9rem,2.2vw,1.1rem);color:var(--text3);margin-bottom:0;min-height:1.8em;
  font-weight:400;letter-spacing:.03em}
.tagline .typed{color:var(--accent2);font-weight:500}
.tagline .cursor{display:inline-block;width:2px;height:1.2em;background:var(--accent2);
  vertical-align:text-bottom;animation:blink .7s infinite}
@keyframes blink{50%{opacity:0}}
.roulette-btn{display:inline-flex;align-items:center;gap:8px;
  padding:.65rem 1.8rem;margin-top:2rem;
  background:rgba(167,139,250,.06);backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  border:1px solid rgba(167,139,250,.15);border-radius:50px;
  color:var(--accent2);font-family:var(--font);font-size:.88rem;font-weight:500;
  cursor:pointer;transition:all .4s ease;letter-spacing:.02em;
  box-shadow:0 0 24px rgba(167,139,250,.08),0 0 60px rgba(167,139,250,.03)}
.roulette-btn:hover{
  box-shadow:0 0 30px rgba(167,139,250,.18),0 0 80px rgba(167,139,250,.07);
  transform:translateY(-2px);border-color:rgba(167,139,250,.3);
  background:rgba(167,139,250,.1)}
.roulette-btn .roulette-icon{display:inline-block;font-size:.75rem;transition:transform .4s ease}
.roulette-btn.spinning .roulette-icon{animation:slotSpin .6s ease-in-out}
@keyframes slotSpin{
  0%{transform:rotate(0)}
  50%{transform:rotate(360deg)}
  100%{transform:rotate(720deg)}
}
[data-theme="light"] .roulette-btn{background:rgba(167,139,250,.08);
  box-shadow:0 0 20px rgba(167,139,250,.06)}
.scroll-indicator{margin-top:1.5rem;animation:bounce 2s infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(8px)}}
.scroll-indicator svg{width:24px;height:24px;stroke:var(--text3);fill:none;
  stroke-width:2;stroke-linecap:round;stroke-linejoin:round;opacity:.5}

/* ─── Stats Bar ────────────────────────────────────────────────── */
.stats-bar{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;
  padding:1.5rem 2rem;background:var(--bg2);border-top:1px solid var(--glass-border);
  border-bottom:1px solid var(--glass-border)}
.stat{text-align:center}
.stat-num{font-size:1.5rem;font-weight:700;color:var(--accent2)}
.stat-label{font-size:.75rem;color:var(--text3);letter-spacing:1px}

/* ─── Controls ─────────────────────────────────────────────────── */
.controls{position:sticky;top:0;z-index:100;background:rgba(12,14,24,.85);
  backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
  border-bottom:1px solid var(--glass-border);padding:1rem 2rem;
  transition:background .5s}
[data-theme="light"] .controls{background:rgba(241,245,249,.85)}
.controls-inner{max-width:1200px;margin:0 auto;display:flex;flex-wrap:wrap;
  gap:.75rem;align-items:center}
.search-wrap{flex:1;min-width:200px;position:relative}
.search-wrap svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);
  width:18px;height:18px;stroke:var(--text3);fill:none;stroke-width:2}
.search-wrap input{width:100%;padding:.6rem .6rem .6rem 38px;
  background:var(--bg3);border:1px solid var(--glass-border);border-radius:var(--radius-sm);
  color:var(--text);font-size:.9rem;outline:none;transition:var(--transition)}
.search-wrap input:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.search-wrap input::placeholder{color:var(--text3)}
.filter-pills{display:flex;gap:.4rem;flex-wrap:wrap}
.pill{padding:.4rem .85rem;border-radius:20px;font-size:.8rem;font-weight:500;
  background:var(--bg3);border:1px solid var(--glass-border);color:var(--text2);
  cursor:pointer;transition:var(--transition);white-space:nowrap}
.pill:hover,.pill.active{color:#fff;border-color:var(--accent);background:var(--accent)}
.pill[data-cat="analysis"].active{background:var(--analysis);border-color:var(--analysis)}
.pill[data-cat="productivity"].active{background:var(--productivity);border-color:var(--productivity)}
.pill[data-cat="meta-prompts"].active{background:var(--meta);border-color:var(--meta)}
.pill[data-cat="communication"].active{background:var(--comm);border-color:var(--comm)}
.ctrl-btns{display:flex;gap:.4rem;align-items:center}
.ctrl-btn{padding:.4rem .65rem;border-radius:var(--radius-sm);font-size:.8rem;
  background:var(--bg3);border:1px solid var(--glass-border);color:var(--text2);
  cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:4px}
.ctrl-btn:hover{border-color:var(--accent);color:var(--text)}
.prompt-count{font-size:.78rem;color:var(--text3);white-space:nowrap}

/* ─── Theme / Sound Toggles ────────────────────────────────────── */
.top-toggles{position:fixed;top:12px;right:12px;z-index:200;display:flex;gap:6px}
.toggle-btn{width:36px;height:36px;border-radius:50%;background:var(--glass);
  backdrop-filter:blur(8px);border:1px solid var(--glass-border);
  color:var(--text2);cursor:pointer;display:flex;align-items:center;
  justify-content:center;font-size:1rem;transition:var(--transition)}
.toggle-btn:hover{border-color:var(--accent);color:var(--text)}

/* ─── Scroll to Top ────────────────────────────────────────────── */
#scroll-top{position:fixed;bottom:24px;right:24px;z-index:200;width:44px;height:44px;
  border-radius:50%;background:var(--accent);color:#fff;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;font-size:1.2rem;
  box-shadow:0 4px 20px var(--accent-glow);opacity:0;visibility:hidden;
  transform:translateY(10px);transition:var(--transition)}
#scroll-top.show{opacity:1;visibility:visible;transform:translateY(0)}
#scroll-top:hover{transform:translateY(-2px);box-shadow:0 6px 30px var(--accent-glow)}

/* ─── Featured Section ─────────────────────────────────────────── */
.featured-section{max-width:1240px;margin:2.5rem auto 1rem;padding:0 2rem}
.section-title{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:var(--text2);
  display:flex;align-items:center;gap:.75rem}
.section-title::after{content:'';flex:1;height:1px;background:var(--glass-border)}
.featured-scroll{display:flex;gap:1rem;overflow-x:auto;padding-bottom:1rem;
  scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
.featured-scroll::-webkit-scrollbar{height:4px}
.featured-scroll::-webkit-scrollbar-thumb{background:var(--accent);border-radius:4px}
.featured-card{min-width:280px;max-width:300px;scroll-snap-align:start;
  background:var(--glass);backdrop-filter:blur(12px);border-radius:var(--radius);
  padding:1.25rem;position:relative;overflow:hidden;cursor:pointer;
  transition:var(--transition);flex-shrink:0}
.featured-card::before{content:'';position:absolute;inset:-2px;border-radius:calc(var(--radius) + 2px);
  background:conic-gradient(from var(--angle,0deg),var(--accent),var(--meta),var(--comm),var(--productivity),var(--accent));
  z-index:-1;animation:rotateBorder 4s linear infinite;opacity:.6}
@keyframes rotateBorder{to{--angle:360deg}}
@property --angle{syntax:'<angle>';initial-value:0deg;inherits:false}
.featured-card::after{content:'';position:absolute;inset:1px;background:var(--bg2);
  border-radius:calc(var(--radius) - 1px);z-index:-1}
.featured-badge{font-size:.65rem;font-weight:500;color:var(--accent2);
  margin-bottom:.5rem;letter-spacing:1.5px;opacity:.7}
.featured-card h3{font-size:.95rem;font-weight:600;margin-bottom:.35rem;color:var(--text)}
.featured-card p{font-size:.78rem;color:var(--text2);line-height:1.5;
  display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.featured-card:hover{transform:translateY(-4px)}

/* ─── Card Grid ────────────────────────────────────────────────── */
.main-content{max-width:1240px;margin:0 auto;padding:1rem 2rem 4rem}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}
.card-grid.list-view{grid-template-columns:1fr}

/* ─── Cards ────────────────────────────────────────────────────── */
.card{background:var(--glass);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);border-radius:var(--radius);padding:1.25rem;
  cursor:pointer;transition:var(--transition);position:relative;
  opacity:0;transform:translateY(20px);animation:fadeInUp .5s forwards;
  border-left:3px solid var(--glass-border)}
.card[data-cat="analysis"]{border-left-color:var(--analysis)}
.card[data-cat="productivity"]{border-left-color:var(--productivity)}
.card[data-cat="meta-prompts"]{border-left-color:var(--meta)}
.card[data-cat="communication"]{border-left-color:var(--comm)}
.card:hover{transform:translateY(-3px);
  box-shadow:0 8px 32px rgba(0,0,0,.2)}
.card[data-cat="analysis"]:hover{border-color:var(--analysis);border-left-color:var(--analysis);
  box-shadow:0 8px 32px rgba(59,130,246,.15)}
.card[data-cat="productivity"]:hover{border-color:var(--productivity);border-left-color:var(--productivity);
  box-shadow:0 8px 32px rgba(34,197,94,.15)}
.card[data-cat="meta-prompts"]:hover{border-color:var(--meta);border-left-color:var(--meta);
  box-shadow:0 8px 32px rgba(168,85,247,.15)}
.card[data-cat="communication"]:hover{border-color:var(--comm);border-left-color:var(--comm);
  box-shadow:0 8px 32px rgba(249,115,22,.15)}
.card.highlight{animation:spotlight 1.5s}
@keyframes spotlight{
  0%{box-shadow:0 0 0 0 rgba(99,102,241,.6)}
  50%{box-shadow:0 0 40px 10px rgba(99,102,241,.3)}
  100%{box-shadow:none}
}
@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}
.card-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}
.cat-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.cat-dot[data-cat="analysis"]{background:var(--analysis)}
.cat-dot[data-cat="productivity"]{background:var(--productivity)}
.cat-dot[data-cat="meta-prompts"]{background:var(--meta)}
.cat-dot[data-cat="communication"]{background:var(--comm)}
.card-title{font-size:1rem;font-weight:600}
.card-tag{display:inline-block;padding:2px 10px;border-radius:12px;font-size:.68rem;
  font-weight:600;letter-spacing:.5px;margin-bottom:.5rem}
.card-tag[data-cat="analysis"]{background:rgba(59,130,246,.15);color:var(--analysis)}
.card-tag[data-cat="productivity"]{background:rgba(34,197,94,.15);color:var(--productivity)}
.card-tag[data-cat="meta-prompts"]{background:rgba(168,85,247,.15);color:var(--meta)}
.card-tag[data-cat="communication"]{background:rgba(249,115,22,.15);color:var(--comm)}
.card-use{font-size:.85rem;color:var(--text2);margin-bottom:.35rem;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.card-best{font-size:.75rem;color:var(--text3);
  display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}
/* list view tweaks */
.list-view .card{display:grid;grid-template-columns:auto 1fr;gap:.5rem 1rem;
  align-items:center;padding:.85rem 1.25rem}
.list-view .card-header{margin:0}.list-view .card-body{display:flex;
  align-items:center;gap:1rem;flex-wrap:wrap}
.list-view .card-use{margin:0;-webkit-line-clamp:1}
.list-view .card-best,.list-view .card-tag{display:none}

/* ─── Expanded Card / Modal ────────────────────────────────────── */
.modal-overlay{position:fixed;inset:0;z-index:500;background:rgba(0,0,0,.6);
  backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;
  opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;padding:1rem}
.modal-overlay.show{opacity:1;visibility:visible}
.modal{background:var(--bg2);border:1px solid var(--glass-border);
  border-radius:var(--radius);max-width:640px;width:100%;max-height:85vh;
  overflow-y:auto;padding:2rem;position:relative;
  transform:translateY(20px) scale(.97);transition:transform .3s;
  box-shadow:0 24px 80px rgba(0,0,0,.4)}
.modal-overlay.show .modal{transform:translateY(0) scale(1)}
.modal-close{position:absolute;top:12px;right:12px;width:32px;height:32px;
  border-radius:50%;background:var(--bg3);border:1px solid var(--glass-border);
  color:var(--text2);cursor:pointer;display:flex;align-items:center;
  justify-content:center;font-size:1.1rem;transition:var(--transition)}
.modal-close:hover{background:var(--accent);color:#fff;border-color:var(--accent)}
.modal h2{font-size:1.4rem;font-weight:700;margin-bottom:.25rem;padding-right:2rem}
.modal .card-tag{margin-bottom:1rem}
.modal .meta-grid{display:grid;gap:.75rem;margin-bottom:1.25rem}
.meta-item label{display:block;font-size:.7rem;font-weight:600;
  letter-spacing:1px;color:var(--text3);margin-bottom:2px}
.meta-item p{font-size:.88rem;color:var(--text2);line-height:1.5}
.pairs-section{margin-bottom:1.25rem}
.pairs-section h4{font-size:.8rem;font-weight:600;color:var(--text3);
  letter-spacing:1px;margin-bottom:.5rem}
.pairs-section a{display:inline-block;padding:3px 10px;margin:2px;
  background:var(--bg3);border-radius:var(--radius-sm);font-size:.8rem;
  border:1px solid var(--glass-border);transition:var(--transition)}
.pairs-section a:hover{border-color:var(--accent);text-decoration:none}
.copy-btn{display:inline-flex;align-items:center;gap:6px;padding:.55rem 1.1rem;
  background:var(--accent);color:#fff;border:none;border-radius:var(--radius-sm);
  font-size:.85rem;font-weight:600;cursor:pointer;transition:var(--transition)}
.copy-btn:hover{background:var(--accent2);transform:translateY(-1px)}
.copy-btn.copied{background:#22c55e}
.prompt-preview{background:var(--bg);border:1px solid var(--glass-border);
  border-radius:var(--radius-sm);padding:1rem 1.25rem;margin:.75rem 0 1rem;
  font-family:'SF Mono',Monaco,Consolas,'Liberation Mono',monospace;font-size:.78rem;
  color:var(--text2);line-height:1.65;white-space:pre-wrap;max-height:220px;overflow-y:auto;
  text-transform:none}
.prompt-preview::-webkit-scrollbar{width:4px}
.prompt-preview::-webkit-scrollbar-thumb{background:var(--accent);border-radius:4px}
.preview-label{font-size:.7rem;font-weight:600;
  letter-spacing:1px;color:var(--text3);margin:1.25rem 0 .35rem;display:flex;
  align-items:center;gap:.5rem}
.preview-label::after{content:'';flex:1;height:1px;background:var(--glass-border)}

/* ─── Toast ────────────────────────────────────────────────────── */
#toast{position:fixed;bottom:80px;left:50%;transform:translateX(-50%) translateY(20px);
  background:var(--bg3);border:1px solid var(--glass-border);border-radius:var(--radius-sm);
  padding:.65rem 1.2rem;font-size:.85rem;color:var(--text);z-index:600;
  opacity:0;visibility:hidden;transition:var(--transition);
  box-shadow:0 8px 32px rgba(0,0,0,.3)}
#toast.show{opacity:1;visibility:visible;transform:translateX(-50%) translateY(0)}

/* ─── Confetti ─────────────────────────────────────────────────── */
.confetti-container{position:fixed;inset:0;pointer-events:none;z-index:700}
.confetti{position:absolute;width:8px;height:8px;border-radius:2px;
  animation:confettiFall 1.5s forwards}
@keyframes confettiFall{
  0%{transform:translateY(0) rotate(0);opacity:1}
  100%{transform:translateY(100vh) rotate(720deg);opacity:0}
}

/* ─── God Mode Easter Egg ──────────────────────────────────────── */
@keyframes goldFlash{
  0%{box-shadow:inset 0 0 0 0 rgba(251,191,36,0)}
  50%{box-shadow:inset 0 0 200px 50px rgba(251,191,36,.15)}
  100%{box-shadow:inset 0 0 0 0 rgba(251,191,36,0)}
}
.god-mode-flash{animation:goldFlash 1.5s}
.god-mode-pulse{animation:spotlight 2s !important;
  border-color:#fbbf24 !important;box-shadow:0 0 40px rgba(251,191,36,.3) !important}

/* ─── Empty State ──────────────────────────────────────────────── */
.empty-state{text-align:center;padding:4rem 2rem;color:var(--text3)}
.empty-state p{margin-bottom:.5rem}
.empty-state button{background:var(--accent);color:#fff;border:none;
  padding:.5rem 1rem;border-radius:var(--radius-sm);cursor:pointer;
  margin-top:.5rem;font-size:.85rem;transition:var(--transition)}
.empty-state button:hover{background:var(--accent2)}

/* ─── Footer ───────────────────────────────────────────────────── */
footer{text-align:center;padding:3rem 2rem 2rem;border-top:1px solid var(--glass-border);
  color:var(--text3);font-size:.85rem}
footer a{color:var(--accent2)}
.footer-tooltip{position:relative;display:inline-block;cursor:help}
.footer-tooltip::after{content:'seriously. this whole thing was built in one evening.';
  position:absolute;bottom:120%;left:50%;transform:translateX(-50%);
  background:var(--bg3);border:1px solid var(--glass-border);border-radius:8px;
  padding:6px 12px;font-size:.75rem;white-space:nowrap;color:var(--text2);
  opacity:0;visibility:hidden;transition:var(--transition);pointer-events:none}
.footer-tooltip:hover::after{opacity:1;visibility:visible}
.hidden-bottom{color:var(--text3);font-size:.8rem;padding:2rem;text-align:center;
  opacity:.4}

/* ─── Responsive ───────────────────────────────────────────────── */
@media(max-width:768px){
  .controls-inner{flex-direction:column;align-items:stretch}
  .filter-pills{justify-content:center}
  .ctrl-btns{justify-content:center}
  .card-grid{grid-template-columns:1fr}
  .stats-bar{gap:1rem}
  .featured-card{min-width:240px}
  .modal{padding:1.25rem;max-height:90vh}
}
@media(max-width:480px){
  .hero h1{font-size:1.8rem}
  .hero{min-height:40vh;padding:2.5rem 1.5rem 1.5rem}
  .stats-bar{flex-direction:column;gap:.5rem}
  .roulette-btn{padding:.55rem 1.4rem;font-size:.82rem}
}
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loader">
  <div class="vault-door" id="vault-door">
    <div class="glow"></div>
    <div class="door left"><div class="handle"></div></div>
    <div class="door right"><div class="handle"></div></div>
  </div>
  <p>opening vault...</p>
</div>

<!-- Theme & Sound Toggles -->
<div class="top-toggles">
  <button class="toggle-btn" id="theme-toggle" aria-label="Toggle light/dark mode" title="Toggle theme">&#9790;</button>
  <button class="toggle-btn" id="sound-toggle" aria-label="Toggle sound effects" title="Toggle sound">&#128263;</button>
</div>

<!-- Scroll to Top -->
<button id="scroll-top" aria-label="Scroll to top">&uarr;</button>

<!-- Hero -->
<section class="hero" id="hero">
  <div class="hero-orb"></div>
  <div class="hero-orb"></div>
  <div class="hero-orb"></div>
  <div class="hero-content">
    <h1>prompt vault</h1>
    <p class="tagline">a curated prompt library <span class="typed" id="typed-text"></span><span class="cursor"></span></p>
    <button class="roulette-btn" id="roulette-btn">
      <span class="roulette-icon">&#x21C6;</span>
      <span class="roulette-text">surprise me</span>
    </button>
    <div class="scroll-indicator">
      <svg viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<div class="stats-bar" id="stats-bar">
  <div class="stat"><div class="stat-num" data-target="4">0</div><div class="stat-label">categories</div></div>
  <div class="stat"><div class="stat-num" data-target="17">0</div><div class="stat-label">prompts</div></div>
  <div class="stat"><div class="stat-num" data-target="1">0</div><div class="stat-label">session</div></div>
  <div class="stat"><div class="stat-num" data-target="0">0</div><div class="stat-label">lines written by hand</div></div>
</div>

<!-- Controls -->
<div class="controls">
  <div class="controls-inner">
    <div class="search-wrap">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input type="text" id="search" placeholder='search prompts...  (press "/" to focus)' aria-label="Search prompts">
    </div>
    <div class="filter-pills" role="tablist">
      <button class="pill active" data-cat="all" role="tab" aria-selected="true">all</button>
      <button class="pill" data-cat="analysis" role="tab">analysis</button>
      <button class="pill" data-cat="productivity" role="tab">productivity</button>
      <button class="pill" data-cat="meta-prompts" role="tab">meta-prompts</button>
      <button class="pill" data-cat="communication" role="tab">communication</button>
    </div>
    <div class="ctrl-btns">
      <button class="ctrl-btn" id="sort-toggle" title="Toggle sort">&#8693; a-z</button>
      <button class="ctrl-btn" id="view-toggle" title="Toggle view">&#9638; grid</button>
    </div>
    <div class="prompt-count" id="prompt-count">showing 17 of 17 prompts</div>
  </div>
</div>

<!-- Featured -->
<section class="featured-section">
  <div class="section-title">featured</div>
  <div class="featured-scroll" id="featured-scroll"></div>
</section>

<!-- Main Grid -->
<section class="main-content">
  <div class="card-grid" id="card-grid"></div>
  <div class="empty-state" id="empty-state" style="display:none">
    <p style="font-size:1.5rem;margin-bottom:1rem;opacity:.5">&#x2014;</p>
    <p>no prompts match your search.</p>
    <p>try a different term or clear the filters.</p>
    <button onclick="clearFilters()">clear filters</button>
  </div>
</section>

<!-- Modal -->
<div class="modal-overlay" id="modal-overlay" role="dialog" aria-modal="true">
  <div class="modal" id="modal">
    <button class="modal-close" id="modal-close" aria-label="Close">&times;</button>
    <div id="modal-content"></div>
  </div>
</div>

<!-- Toast -->
<div id="toast"></div>

<!-- Footer -->
<footer>
  <p class="footer-tooltip">
    built by ria &amp; claude &mdash; <a href="https://github.com/riamont" target="_blank" rel="noopener">github.com/riamont</a>
  </p>
  <p style="margin-top:.5rem">&copy; 2026</p>
</footer>
<div class="hidden-bottom">you found the bottom. now go build something.</div>

<script>
/* ─── Prompt Data ──────────────────────────────────────────────── */
const prompts = [
  {id:'general-data-analysis',name:'General Data Analysis',cat:'analysis',
   use:'First-pass exploratory analysis of any raw dataset \u2014 data profiling, pattern detection, anomaly flagging, visualization, and recommended next steps.',
   best:'Quick data exploration when you receive a new dataset and need an initial read before deeper analysis. Program evaluation data, survey exports, usage logs, participant tracking sheets, partner metrics.',
   when:'You have a CSV, Excel, or similar tabular dataset and want a structured analytical overview before diving into specific research questions.',
   input:'CSV or Excel upload \u2014 any tabular data with column headers. The more context you provide about what the data represents, the better the analysis.',
   output:'Data profile, key findings organized by category, visualizations with explanations, anomaly flags, and prioritized next steps.',
   pairs:['survey-crosstab','video-feedback','platform-usage']},
  {id:'platform-usage',name:'Platform Usage & Workflow Compliance',cat:'analysis',
   use:'Analyze platform usage data to detect whether users follow intended workflows or bypass them \u2014 user segmentation, anomaly detection, and UX/process recommendations.',
   best:'Any platform or tool where users have a defined workflow but may be taking shortcuts \u2014 assessment platforms, survey tools, LMS systems, internal tools.',
   when:'You have usage/activity log data from a platform and want to understand adoption patterns, identify workarounds, segment user behavior, and recommend improvements.',
   input:'CSV or database export of user activity logs \u2014 actions taken, timestamps, user IDs, completion states.',
   output:'Behavioral analysis with user segments, compliance metrics, anomaly flags, data visualizations, UX recommendations, and implementation roadmap.',
   pairs:['video-feedback']},
  {id:'survey-crosstab',name:'Survey Crosstab & Open-End Coding',cat:'analysis',
   use:'Analyzing closed-ended survey data via cross-tabulations AND coding free-text responses from the same survey. Dual XML prompts for quant + qual in one pass.',
   best:'Post-program evaluations, participant feedback surveys, event/workshop ratings, pulse surveys, course evaluations.',
   when:'You have a single survey dataset with both structured (Likert, multiple-choice, multi-select) and unstructured (open-text) columns and need a rigorous first pass.',
   input:'CSV or Excel upload \u2014 one row per respondent, column headers include question IDs.',
   output:'Markdown crosstab tables with significance flags, theme codebook, sentiment distribution, executive summary.',
   pairs:['general-data-analysis','mixed-methods']},
  {id:'mixed-methods',name:'Mixed-Methods Survey Analysis',cat:'analysis',
   use:'Full-spectrum analysis of a survey that contains both scaled/quantitative items and open-ended text \u2014 integrated into a single deliverable.',
   best:'Post-program evaluations, pre/post leadership assessments, 360 feedback synthesis, ed-tech platform reviews, cohort-based program comparisons.',
   when:'You need a comprehensive, presentation-ready analysis that weaves together numbers and narrative \u2014 not just tables.',
   input:'CSV or Excel upload \u2014 one row per respondent, mix of numeric/categorical and free-text columns.',
   output:'Executive summary, descriptive stats tables, theme codebooks per question, quant\u2194qual integration narrative, numbered recommendations with evidence citations, limitations section.',
   pairs:['survey-crosstab']},
  {id:'video-feedback',name:'Video Feedback Sentiment Analyzer',cat:'analysis',
   use:'Analyze open-text student feedback from a video-based peer assessment tool \u2014 sentiment classification, theme extraction, and actionable recommendations.',
   best:'VITA or similar video assessment platforms, peer review feedback cycles, post-assessment program evaluation, student experience research.',
   when:'You have a CSV export of student free-text responses from a video task assessment.',
   input:'CSV upload \u2014 one row per respondent, columns for each feedback question.',
   output:'Three-part structured analysis: platform feedback (product), student experience (learning), and key insights with actionable recommendations.',
   pairs:['survey-crosstab','platform-usage']},
  {id:'research-synthesizer',name:'Research Synthesizer',cat:'analysis',
   use:'Synthesize multiple research sources \u2014 studies, reports, survey data, interviews \u2014 into a structured, evidence-based analysis with actionable conclusions.',
   best:'Literature reviews, multi-wave survey consolidation, mixed-methods research synthesis, competitive analysis, program evaluation evidence reviews, policy briefs.',
   when:'You have 3+ sources on a topic and need to integrate findings across them rather than summarize each one individually.',
   input:'Upload or paste multiple sources (PDFs, articles, data summaries, interview notes). Fill in context fields to scope the synthesis.',
   output:'Structured multi-section report: executive summary, methodology assessment, thematic analysis, evidence synthesis, critical analysis, actionable recommendations, and research gaps.',
   pairs:['general-data-analysis','survey-crosstab','expert-prompt-gen']},
  {id:'elite-productivity',name:'Elite Productivity Strategist',cat:'productivity',
   use:'Full productivity audit and personalized system design \u2014 time blocking, priority alignment, energy mapping, automation recommendations, and a 7-day implementation plan.',
   best:'Quarterly resets, feeling overwhelmed or behind, starting a new role or project, recovering from burnout, preparing for a high-stakes deadline sprint.',
   when:'You feel like you\u2019re busy but not productive, your schedule controls you instead of the other way around, or you need a structured system.',
   input:'Conversational \u2014 the prompt asks you questions about your current routine, goals, and energy patterns before building your plan.',
   output:'Complete productivity system: time audit findings, time-blocked weekly schedule, priority alignment, automation/delegation recommendations, and 7-day implementation challenge.',
   pairs:['meeting-summary']},
  {id:'meeting-summary',name:'Meeting Summary Generator',cat:'productivity',
   use:'Transform raw meeting notes, transcripts, or key discussion points into structured, actionable summaries with decisions, action items, and follow-ups.',
   best:'Team standups, planning sessions, partner meetings, stakeholder calls, board meetings, cross-functional syncs, 1:1s.',
   when:'You just finished a meeting and have rough notes, a transcript, or bullet points that need to be turned into something clear enough to share.',
   input:'Paste raw meeting notes, transcript, or key points. Fill in the meeting details fields for context.',
   output:'6-section structured summary: overview, key decisions, discussion highlights, action items table, next steps, and parking lot.',
   pairs:['ideation-pipeline','elite-productivity','copywriting-rewriter']},
  {id:'ideation-pipeline',name:'Ideation-to-Planning Pipeline',cat:'productivity',
   use:'Take a rough idea and develop it through a structured multi-stage pipeline \u2014 iterative refinement, simulated expert panel, planning, task decomposition, resource mapping, and risk analysis.',
   best:'Project kickoffs, new initiative proposals, program design, event planning, product ideation, turning a vague concept into an actionable plan.',
   when:'You have an idea that\u2019s anywhere from \u201Chalf-baked napkin sketch\u201D to \u201Crough concept\u201D and you need to flesh it out.',
   input:'Conversational \u2014 describe your idea in plain language. The prompt guides you through progressive refinement stages.',
   output:'Complete project plan: refined idea summary, expert panel insights, high-level plan, milestones, detailed tasks, resource requirements, RAID analysis, optional Gantt chart, and CSV export.',
   pairs:['meeting-summary','elite-productivity']},
  {id:'exec-360',name:'Executive Leadership 360 Feedback',cat:'productivity',
   use:'Process 360-degree interview responses into a structured feedback presentation \u2014 extract, categorize, and organize comments by theme and stakeholder group.',
   best:'Executive coaching engagements, leadership development programs, talent reviews, succession planning feedback sessions.',
   when:'You have raw 360 interview transcripts or notes from managers, peers, and direct reports and need to synthesize them.',
   input:'Interview response files (Word docs, PDFs, or pasted text) \u2014 one file per interviewer or one combined file with responses tagged by rater group.',
   output:'Structured Word document organized by question, with thematic sub-headings, collated comments, and rater group attribution.',
   pairs:['research-synthesizer']},
  {id:'prompt-optimizer',name:'Prompt Optimizer (4-D Method)',cat:'meta-prompts',
   use:'Take any rough, vague, or underperforming prompt and transform it into a structured, effective version using a systematic four-phase methodology.',
   best:'Improving existing prompts that produce inconsistent or mediocre results, quickly polishing a rough idea into something production-ready, adapting prompts across platforms.',
   when:'You already have a prompt (even a messy one) and want it improved. For building prompts from scratch, use the Expert Prompt Generator instead.',
   input:'Conversational \u2014 paste your rough prompt and optionally specify the target AI platform and optimization depth.',
   output:'Optimized prompt with explanation of changes, techniques applied, and usage guidance.',
   pairs:['expert-prompt-gen']},
  {id:'expert-prompt-gen',name:'Expert Prompt Generator',cat:'meta-prompts',
   use:'Meta-prompt that generates task-specific prompts using a structured three-phase methodology \u2014 scoping, construction, and stress-testing.',
   best:'Building new prompts from scratch for any domain, refining existing prompts, creating reusable prompt templates for team use.',
   when:'You have a goal or deliverable in mind but need a well-engineered prompt to achieve it reliably.',
   input:'Conversational \u2014 fill in the four context fields (topic, outcome, audience, constraints) and the generator builds a complete prompt.',
   output:'A ready-to-paste prompt with XML structure (role/context/task/constraints), design notes explaining architectural choices, and iteration hooks.',
   pairs:['prompt-optimizer']},
  {id:'god-mode',name:'Strategic Accelerator Mode',cat:'meta-prompts',
   use:'System prompt that elevates strategic thinking through cross-disciplinary analysis, structured frameworks, and rigorous assumption-testing.',
   best:'Complex decision-making, idea stress-testing, strategic planning, option comparison, executive-level writing, problem decomposition.',
   when:'You\u2019re facing a decision, problem, or deliverable that needs more rigor than a standard conversation.',
   input:'Conversational \u2014 paste as a system prompt at the start of a conversation, then give it your problem, decision, or content.',
   output:'Varies by request: frameworks, decision matrices, prioritized action lists, stress-tested analyses, or polished content with rationale.',
   pairs:['thinking-partner']},
  {id:'thinking-partner',name:'The Ultimate Thinking Partner',cat:'meta-prompts',
   use:'System prompt that turns the AI into a critical thinking sparring partner \u2014 challenges your reasoning, stress-tests your ideas, and refines your thinking.',
   best:'Strategic planning sessions, navigating tough decisions, working through interpersonal conflicts, career reflection, brainstorming with rigor.',
   when:'You need someone to think WITH, not just execute FOR you. Use when you\u2019re stuck, facing a big decision, or want ideas pressure-tested.',
   input:'Conversational \u2014 paste as a system prompt, then bring your questions, dilemmas, or half-formed ideas.',
   output:'Probing questions, reframed perspectives, structured reasoning, devil\u2019s advocate arguments, cross-domain insights, and co-created conclusions.',
   pairs:['god-mode']},
  {id:'copywriting-rewriter',name:'Copywriting Framework Rewriter',cat:'communication',
   use:'Feed any headline, subject line, or body copy and get multiple rewrites using proven copywriting frameworks \u2014 AIDA, PAS, BAB, PASTOR, StoryBrand, and 232 more.',
   best:'Email campaign subject lines, A/B testing, landing page headlines, drip sequence copy, marketing email body rewrites, call-to-action optimization.',
   when:'You have a draft of marketing copy and want to see it through different strategic lenses. Great when you\u2019re stuck on one version.',
   input:'Paste any piece of copy \u2014 a headline, subject line, email body, CTA, landing page section, or ad copy.',
   output:'6 framework-based rewrites with the framework name labeled, formatted for easy comparison and selection.',
   pairs:['meeting-summary']},
  {id:'ai-mentor',name:'AI Mentor Feedback',cat:'communication',
   use:'Interactive AI mentor that delivers rubric-aware, structured feedback on student assignments using a Socratic approach.',
   best:'Course assignments, program evaluations, peer review workflows, coaching feedback loops, professional development submissions.',
   when:'A student or participant has a draft or deliverable they need constructive feedback on \u2014 and you want the AI to coach rather than do the work.',
   input:'Conversational \u2014 student provides assignment details, rubric, goals, and draft through a multi-turn dialogue.',
   output:'Balanced, specific feedback addressing assignment goals and rubric criteria, followed by Socratic questioning to prompt reflection.',
   pairs:['structured-learning']},
  {id:'structured-learning',name:'Structured Learning System',cat:'communication',
   use:'Interactive AI teacher that adapts to learner experience level and systematically explores any topic through 10 structured question categories.',
   best:'Self-directed learning, student engagement, onboarding education, deep-dive topic exploration, professional development.',
   when:'You want to deeply understand a topic through structured questioning \u2014 from historical context to outside-the-box thinking.',
   input:'Conversational \u2014 provide your topic and experience level, then work through 10 question categories with 5 questions each.',
   output:'50 structured questions and 400+ word answers per category, organized from historical perspective to creative thinking, with a final summary.',
   pairs:['ai-mentor']}
];

const CAT_LABELS={analysis:'analysis',productivity:'productivity','meta-prompts':'meta-prompts',communication:'communication'};
const FEATURED_IDS=['expert-prompt-gen','ideation-pipeline','copywriting-rewriter'];

const PROMPT_PREVIEWS={
'general-data-analysis':`ROLE: Senior data analyst specializing in exploratory data analysis, statistical profiling, and data storytelling for organizational research.\n\nTASK: Conduct structured EDA \u2014 data profiling, key findings by category, pattern detection, anomaly flags, visualizations with explanations, and prioritized next steps.`,
'platform-usage':`ROLE: Product analytics and behavioral data specialist with expertise in user journey analysis, workflow compliance measurement, and adoption diagnostics.\n\nTASK: Analyze platform usage data to detect workflow compliance, segment users into behavioral groups, identify anomalies and trends, and deliver UX/process recommendations.`,
'survey-crosstab':`ROLE: Senior survey research analyst with expertise in cross-tabulation design and data storytelling. Fluent in APA reporting conventions.\n\nTASK: Generate cross-tabulations with significance flags, top-box/bottom-box summaries, and narrative interpretation. Companion prompt codes open-ended responses with thematic and sentiment analysis.`,
'mixed-methods':`ROLE: Expert organizational psychologist and mixed-methods research analyst specializing in program evaluation and educational measurement.\n\nTASK: Full-spectrum analysis \u2014 descriptive stats with correlations and effect sizes, inductive thematic coding, cross-analysis integrating quant and qual, and an actionable insights brief.`,
'video-feedback':`ROLE: Mixed-methods research analyst specializing in educational technology evaluation and student experience research.\n\nTASK: Three-part analysis of video assessment feedback \u2014 platform feedback themes and sentiment, student experience and learning insights, synthesized recommendations with power quotes.`,
'research-synthesizer':`ROLE: Senior research analyst with expertise in systematic evidence synthesis and translating complex multi-source findings into clear, actionable reports.\n\nTASK: Eight-section synthesis \u2014 executive summary with confidence levels, source assessment, thematic analysis, evidence integration, critical analysis, recommendations, gaps, and practical application.`,
'elite-productivity':`ROLE: Elite productivity strategist. Audits time usage, exposes inefficiency, and designs hyper-efficient personalized systems. Direct, tactical, no wasted minutes.\n\nTASK: Four phases \u2014 time audit and energy mapping, strategic schedule with time-blocking, focus execution with distraction shielding, and a 7-day implementation challenge.`,
'meeting-summary':`ROLE: Expert meeting facilitator and executive communications specialist. Distinguishes what was discussed from what was decided.\n\nTASK: Six-section summary \u2014 overview, key decisions with rationale, discussion highlights by theme, action items table with owners and due dates, next steps, and parking lot.`,
'ideation-pipeline':`ROLE: Expert ideation strategist and project planner. Guides ideas from rough concept to executable plan through a multi-stage pipeline.\n\nTASK: Eight stages \u2014 idea refinement, expert panel simulation, high-level plan, milestones, task decomposition, resource mapping, RAID analysis, and summary with optional Gantt chart.`,
'exec-360':`ROLE: Senior organizational psychologist specializing in executive assessment and 360-degree feedback synthesis from multiple rater groups.\n\nTASK: Extract and map interview comments to question headings, tag by rater group, organize under thematic sub-headings, compile presentation-ready document, and flag contradictions.`,
'prompt-optimizer':`ROLE: Master-level prompt optimization specialist. Transforms any input into precision-crafted prompts using the 4-D methodology.\n\nTASK: Deconstruct (extract intent and gaps), Diagnose (audit clarity and specificity), Develop (select techniques, assign roles, add constraints), and Deliver (optimized prompt with explanation).`,
'expert-prompt-gen':`ROLE: Prompt architect \u2014 designer of cognitive systems. Constructs prompts that reliably produce expert-level outputs through reasoning structures and quality criteria.\n\nTASK: Three-phase protocol \u2014 deep scoping (decompose goals, map expertise, surface the unstated), prompt construction (ROLE/CONTEXT/TASK/CONSTRAINTS architecture), and stress-testing.`,
'god-mode':`ROLE: Strategic Accelerator Mode \u2014 cross-disciplinary strategist with polymath range and specialist precision. Makes good ideas great and great ideas bulletproof.\n\nTASK: Five principles \u2014 interrogate assumptions, structure with frameworks and decision matrices, ground claims in evidence, challenge weak reasoning directly, and communicate with precision.`,
'thinking-partner':`ROLE: Elite thinking partner and intellectual sparring companion. Upgrades your thinking rather than answering your questions.\n\nTASK: Five-step sequence \u2014 listen and deconstruct, probe with targeted questions, reframe from unconsidered angles, challenge with counterarguments, and synthesize without deciding for you.`,
'copywriting-rewriter':`ROLE: Master copywriting strategist with encyclopedic knowledge of persuasion frameworks, direct response formulas, and narrative structures.\n\nTASK: Analyze intent and audience, select 6 best-fit frameworks from 232+ options (AIDA, PAS, BAB, PASTOR, StoryBrand, etc.), rewrite using each, and output formatted for comparison.`,
'ai-mentor':`ROLE: Friendly academic mentor with high standards. Gives specific, actionable feedback using a Socratic approach \u2014 questions that prompt reflection rather than providing answers.\n\nTASK: Seven-stage protocol \u2014 gather context, collect rubric, ask for self-assessment, receive draft, deliver balanced feedback, guide reflection through questioning, and encourage peer feedback.`,
'structured-learning':`ROLE: World-class teacher who adapts to learner experience level and systematically explores topics through structured question categories.\n\nTASK: Guide through 10 categories \u2014 Historical Perspective, Fact-Based, Descriptive, Broad, Narrowed Focus, Cause-and-Effect, Correlative, Hypothetical, Reflective, and Outside the Box. Five questions each.`};

/* ─── State ────────────────────────────────────────────────────── */
let currentFilter='all',currentSort='cat',currentView='grid',soundEnabled=false,firstCopy=true;

/* ─── Loading ──────────────────────────────────────────────────── */
window.addEventListener('load',()=>{
  setTimeout(()=>document.getElementById('vault-door').classList.add('open'),300);
  setTimeout(()=>{
    document.getElementById('loader').classList.add('hidden');
    startTyping();animateStats();renderFeatured();renderCards();
  },1800);
});

/* ─── Typing Effect ────────────────────────────────────────────── */
function startTyping(){
  const phrases=['for research.','for productivity.','for communication.','for strategic thinking.','for getting things done.'];
  const el=document.getElementById('typed-text');
  let pi=0,ci=0,deleting=false;
  function tick(){
    const phrase=phrases[pi];
    if(!deleting){
      el.textContent=phrase.slice(0,ci+1);ci++;
      if(ci===phrase.length){setTimeout(()=>{deleting=true;tick()},1800);return;}
    }else{
      el.textContent=phrase.slice(0,ci-1);ci--;
      if(ci===0){deleting=false;pi=(pi+1)%phrases.length;}
    }
    setTimeout(tick,deleting?30:60);
  }
  tick();
}

/* ─── Stats Animation ──────────────────────────────────────────── */
function animateStats(){
  const obs=new IntersectionObserver(entries=>{
    entries.forEach(e=>{if(e.isIntersecting){
      e.target.querySelectorAll('.stat-num').forEach(el=>{
        const t=+el.dataset.target,dur=1200,start=performance.now();
        (function tick(now){
          const p=Math.min((now-start)/dur,1);
          el.textContent=Math.round(p*t);
          if(p<1)requestAnimationFrame(tick);
        })(start);
      });obs.unobserve(e.target);
    }});
  },{threshold:.5});
  obs.observe(document.getElementById('stats-bar'));
}

/* ─── Render Featured ──────────────────────────────────────────── */
function renderFeatured(){
  const c=document.getElementById('featured-scroll');
  c.innerHTML=FEATURED_IDS.map(id=>{
    const p=prompts.find(x=>x.id===id);if(!p)return'';
    return `<div class="featured-card" onclick="openModal('${p.id}')" tabindex="0" role="button" aria-label="View ${p.name}">
      <div class="featured-badge">\u2014 featured</div>
      <h3>${p.name.toLowerCase()}</h3>
      <p>${p.use}</p></div>`;
  }).join('');
}

/* ─── Render Cards ─────────────────────────────────────────────── */
function renderCards(){
  const grid=document.getElementById('card-grid');
  const q=document.getElementById('search').value.toLowerCase().trim();
  let list=prompts.filter(p=>{
    if(currentFilter!=='all'&&p.cat!==currentFilter)return false;
    if(q&&!p.name.toLowerCase().includes(q)&&!p.use.toLowerCase().includes(q)&&!p.best.toLowerCase().includes(q))return false;
    return true;
  });
  if(currentSort==='az')list.sort((a,b)=>a.name.localeCompare(b.name));
  document.getElementById('prompt-count').textContent=`showing ${list.length} of ${prompts.length} prompts`;
  document.getElementById('empty-state').style.display=list.length?'none':'block';
  grid.innerHTML=list.map((p,i)=>`
    <div class="card" data-cat="${p.cat}" data-id="${p.id}" style="animation-delay:${i*60}ms"
         onclick="openModal('${p.id}')" tabindex="0" role="button" aria-label="View ${p.name}">
      <div class="card-header">
        <span class="cat-dot" data-cat="${p.cat}"></span>
        <span class="card-title">${p.name.toLowerCase()}</span>
      </div>
      <span class="card-tag" data-cat="${p.cat}">${CAT_LABELS[p.cat]}</span>
      <p class="card-use">${p.use}</p>
      <p class="card-best">${p.best}</p>
    </div>`).join('');
  // god mode easter egg
  if(q==='god mode'){
    document.body.classList.add('god-mode-flash');
    setTimeout(()=>document.body.classList.remove('god-mode-flash'),1500);
    const gm=grid.querySelector('[data-id="god-mode"]');
    if(gm)gm.classList.add('god-mode-pulse');
  }
}

/* ─── Modal ────────────────────────────────────────────────────── */
function openModal(id){
  const p=prompts.find(x=>x.id===id);if(!p)return;
  playClick();
  const pairsHtml=p.pairs&&p.pairs.length?`<div class="pairs-section"><h4>pairs well with</h4>${
    p.pairs.map(pid=>{const pp=prompts.find(x=>x.id===pid);
      return pp?`<a href="#" onclick="event.preventDefault();scrollToCard('${pid}')">${pp.name.toLowerCase()}</a>`:'';
    }).join('')}</div>`:'';
  const meta=[
    {label:'use case',val:p.use},{label:'best for',val:p.best},
    {label:'when to use',val:p.when},{label:'input format',val:p.input},
    {label:'output',val:p.output}
  ];
  const preview=PROMPT_PREVIEWS[p.id]||'';
  document.getElementById('modal-content').innerHTML=`
    <h2>${p.name.toLowerCase()}</h2>
    <span class="card-tag" data-cat="${p.cat}">${CAT_LABELS[p.cat]}</span>
    <div class="meta-grid">${meta.map(m=>`<div class="meta-item"><label>${m.label}</label><p>${m.val}</p></div>`).join('')}</div>
    ${preview?`<div class="preview-label">prompt excerpt</div><div class="prompt-preview">${preview}</div>`:''}
    ${pairsHtml}
    <button class="copy-btn" onclick="copyPromptInfo(this,'${p.id}')">copy prompt</button>`;
  const o=document.getElementById('modal-overlay');o.classList.add('show');
  document.body.style.overflow='hidden';
}
function closeModal(){
  document.getElementById('modal-overlay').classList.remove('show');
  document.body.style.overflow='';playClick();
}
document.getElementById('modal-close').onclick=closeModal;
document.getElementById('modal-overlay').addEventListener('click',e=>{if(e.target===e.currentTarget)closeModal()});

function scrollToCard(id){
  closeModal();
  setTimeout(()=>{
    currentFilter='all';
    document.querySelectorAll('.pill').forEach(p=>p.classList.remove('active'));
    document.querySelector('.pill[data-cat="all"]').classList.add('active');
    document.getElementById('search').value='';
    renderCards();
    const card=document.querySelector(`[data-id="${id}"]`);
    if(card){card.scrollIntoView({behavior:'smooth',block:'center'});
      card.classList.remove('highlight');void card.offsetWidth;card.classList.add('highlight');
      setTimeout(()=>openModal(id),1500);}
  },400);
}

/* ─── Copy ──────────────────────────────────────────────────────── */
function copyPromptInfo(btn,id){
  const p=prompts.find(x=>x.id===id);if(!p)return;
  const preview=PROMPT_PREVIEWS[p.id]||'';
  const text=preview?`${p.name}\n\n${preview}`:`${p.name}\nCategory: ${CAT_LABELS[p.cat]}\nUse Case: ${p.use}`;
  navigator.clipboard.writeText(text).then(()=>{
    btn.classList.add('copied');btn.innerHTML='copied!';
    setTimeout(()=>{btn.classList.remove('copied');btn.innerHTML='copy prompt';},2000);
    showToast('prompt copied \u2014 go build something great.');
    if(firstCopy){firstCopy=false;launchConfetti();}
  });
}
function showToast(msg){
  const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),3000);
}

/* ─── Confetti ─────────────────────────────────────────────────── */
function launchConfetti(){
  const c=document.createElement('div');c.className='confetti-container';document.body.appendChild(c);
  const colors=['#6366f1','#a855f7','#22c55e','#f97316','#3b82f6','#fbbf24'];
  for(let i=0;i<40;i++){
    const p=document.createElement('div');p.className='confetti';
    p.style.left=Math.random()*100+'%';p.style.top='-10px';
    p.style.background=colors[Math.floor(Math.random()*colors.length)];
    p.style.animationDuration=(Math.random()*1+1)+'s';
    p.style.animationDelay=(Math.random()*.5)+'s';
    c.appendChild(p);
  }
  setTimeout(()=>c.remove(),3000);
}

/* ─── Chat Roulette ────────────────────────────────────────────── */
document.getElementById('roulette-btn').addEventListener('click',function(){
  const btn=this;
  btn.classList.add('spinning');
  playClick();
  setTimeout(()=>{
    btn.classList.remove('spinning');
    const p=prompts[Math.floor(Math.random()*prompts.length)];
    currentFilter='all';
    document.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
    document.querySelector('.pill[data-cat="all"]').classList.add('active');
    document.getElementById('search').value='';
    renderCards();
    setTimeout(()=>{
      const card=document.querySelector(`[data-id="${p.id}"]`);
      if(card){card.scrollIntoView({behavior:'smooth',block:'center'});
        card.classList.remove('highlight');void card.offsetWidth;card.classList.add('highlight');
        setTimeout(()=>openModal(p.id),1500);}
    },100);
  },600);
});

/* ─── Filter / Search / Sort / View ────────────────────────────── */
document.querySelectorAll('.pill').forEach(pill=>{
  pill.addEventListener('click',()=>{
    document.querySelectorAll('.pill').forEach(p=>{p.classList.remove('active');p.setAttribute('aria-selected','false')});
    pill.classList.add('active');pill.setAttribute('aria-selected','true');
    currentFilter=pill.dataset.cat;renderCards();
  });
});
document.getElementById('search').addEventListener('input',renderCards);
document.getElementById('sort-toggle').addEventListener('click',function(){
  currentSort=currentSort==='cat'?'az':'cat';
  this.innerHTML=currentSort==='az'?'\u21C5 cat':'\u21C5 a-z';renderCards();
});
document.getElementById('view-toggle').addEventListener('click',function(){
  const grid=document.getElementById('card-grid');
  currentView=currentView==='grid'?'list':'grid';
  grid.classList.toggle('list-view',currentView==='list');
  this.innerHTML=currentView==='list'?'\u25A6 list':'\u25A6 grid';
});
function clearFilters(){
  document.getElementById('search').value='';currentFilter='all';
  document.querySelectorAll('.pill').forEach(p=>p.classList.remove('active'));
  document.querySelector('.pill[data-cat="all"]').classList.add('active');
  renderCards();
}

/* ─── Keyboard Shortcuts ───────────────────────────────────────── */
document.addEventListener('keydown',e=>{
  if(e.key==='/'&&document.activeElement.tagName!=='INPUT'){e.preventDefault();document.getElementById('search').focus();}
  if(e.key==='Escape'){
    if(document.getElementById('modal-overlay').classList.contains('show'))closeModal();
    else{document.getElementById('search').value='';document.getElementById('search').blur();renderCards();}
  }
});
document.addEventListener('keydown',e=>{if(e.key==='Enter'&&e.target.classList.contains('card'))e.target.click()});

/* ─── Theme Toggle ─────────────────────────────────────────────── */
document.getElementById('theme-toggle').addEventListener('click',function(){
  const d=document.documentElement,isDark=d.dataset.theme==='dark';
  d.dataset.theme=isDark?'light':'dark';
  this.textContent=isDark?'\u2600\uFE0F':'\u{1F319}';
});

/* ─── Sound Toggle ─────────────────────────────────────────────── */
document.getElementById('sound-toggle').addEventListener('click',function(){
  soundEnabled=!soundEnabled;this.textContent=soundEnabled?'\u{1F509}':'\u{1F507}';
});
function playClick(){
  if(!soundEnabled)return;
  try{const ac=new AudioContext(),o=ac.createOscillator(),g=ac.createGain();
    o.connect(g);g.connect(ac.destination);o.frequency.value=800;
    g.gain.value=.05;o.start();g.gain.exponentialRampToValueAtTime(.001,ac.currentTime+.08);
    o.stop(ac.currentTime+.08);}catch(e){}
}

/* ─── Scroll to Top ────────────────────────────────────────────── */
const stb=document.getElementById('scroll-top');
window.addEventListener('scroll',()=>{stb.classList.toggle('show',window.scrollY>400)});
stb.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
</script>
</body>
</html>
